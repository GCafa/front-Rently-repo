<div class="notifications-container">
  <div class="notification-icon" (click)="toggleDropdown()">
    <i class="fa fa-bell"></i>
    @if (unreadCount > 0) {
      <span class="notification-badge">{{ unreadCount }}</span>
    }
  </div>

  @if (isDropdownOpen) {
    <div class="notification-dropdown">
      <div class="notification-header d-flex justify-content-between align-items-center">
        <h3 class="m-0">Notifiche</h3>
        <div class="btn-group btn-group-sm">
          <button class="btn btn-outline-primary" (click)="markAllAsRead()">‚úîÔ∏è Letti</button>
          <button class="btn btn-outline-danger" (click)="deleteAll()">üóëÔ∏è Elimina</button>
        </div>
      </div>

      <hr class="my-2">

      <div class="notification-list">
        @if (notifications.length > 0) {
          @for (notification of notifications; track notification.id) {
            <app-notification-item
              [notification]="notification"
              (updated)="loadNotifications()">
            </app-notification-item>
          }
        } @else {
          <div class="no-notifications text-center text-muted">
            <p>Non ci sono notifiche</p>
          </div>
        }
      </div>
    </div>
  }
</div>
